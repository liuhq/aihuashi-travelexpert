window.__require=function e(t,n,o){function c(i,r){if(!n[i]){if(!t[i]){var s=i.split("/");if(s=s[s.length-1],!t[s]){var u="function"==typeof __require&&__require;if(!r&&u)return u(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){return c(t[i][1][e]||e)},l,l.exports,e,t,n,o)}return n[i].exports}for(var a="function"==typeof __require&&__require,i=0;i<o.length;i++)c(o[i]);return c}({BackMenu:[function(e,t){"use strict";cc._RF.push(t,"b3cc4eGsIJDfovRcWipRyfr","BackMenu");var n=e("../../MyTimer.js"),o=e("../../DataCollection.js");cc.Class({extends:cc.Component,onLoad:function(){this.node.on("touchstart",this.backMenu,this)},backMenu:function(){n.MyTimer.clean(),o.d.gander=0,o.d.luggage=-1,o.d.gameTime=0,o.d.hasGoods=-1,o.d.hasBarrier=[0,0,0,0,0],cc.director.loadScene("Menu"),cc.director.resume()}}),cc._RF.pop()},{"../../DataCollection.js":"DataCollection","../../MyTimer.js":"MyTimer"}],Barrier:[function(e,t){"use strict";cc._RF.push(t,"a67b4OBZV5O3768U6ee5l0y","Barrier");var n=e("../DataCollection.js"),o=e("../MyTimer.js");cc.Class({extends:cc.Component,properties:function(){return{trackX:{default:0,type:cc.Integer},initY:558,endY:{default:-558,type:cc.Float}}},onLoad:function(){this.gameScene=cc.find("Canvas").getComponent("GameScene")},update:function(){this.node.y<=-235&&this.node.y>=-400?this.judgeCollision():this.node.y===this.endY&&(this.gameScene.gainScore(),this.gameScene.barrierPool.put(this.node))},judgeCollision:function(){n.d.trackX[this.gameScene.role.trackX]===this.node.x&&cc.resources.load("AU/AU__collision",cc.AudioClip,function(e,t){cc.audioEngine.playEffect(t,!1),o.MyTimer.clean(),cc.director.loadScene("Result")})},init:function(){var e=this,t=n.d.rTrack(),o=Math.random();n.d.hasBarrier.forEach(function(e){if(3===e){for(;t===n.d.hasBarrier[4];)t=n.d.rTrack();n.d.hasBarrier=[0,0,0,0,0]}}),n.d.hasBarrier[t]+=1,n.d.hasBarrier[4]=t,this.node.x=n.d.trackX[t],this.node.y=this.initY,o<.3?cc.resources.load("EL/EL__barrier_mount",cc.SpriteFrame,function(t,n){e.node.getComponent(cc.Sprite).spriteFrame=n}):o<.6?cc.resources.load("EL/EL__barrier_lake",cc.SpriteFrame,function(t,n){e.node.getComponent(cc.Sprite).spriteFrame=n}):cc.resources.load("EL/EL__barrier_roadblock",cc.SpriteFrame,function(t,n){e.node.getComponent(cc.Sprite).spriteFrame=n}),cc.tween(this.node).to(n.d.speedChange().down,{y:this.endY}).start()}}),cc._RF.pop()},{"../DataCollection.js":"DataCollection","../MyTimer.js":"MyTimer"}],BtnBeginGame:[function(e,t){"use strict";cc._RF.push(t,"15532Z9tyhDD6aQp2cDB5S/","BtnBeginGame"),e("../DataCollection.js"),cc.Class({extends:cc.Component,onLoad:function(){this.node.on("touchstart",this.Begin,this)},Begin:function(){cc.director.loadScene("Gaming")}}),cc._RF.pop()},{"../DataCollection.js":"DataCollection"}],BtnConfirm:[function(e,t){"use strict";cc._RF.push(t,"765333pR1NMN7Vrtj7+rHl9","BtnConfirm");var n=e("../DataCollection.js");cc.Class({extends:cc.Component,properties:function(){return{Page:{default:null,type:cc.Node}}},onLoad:function(){this.node.on("touchstart",this.Confirm,this)},Confirm:function(){var e=this;-1===n.d.luggage&&(n.d.luggage=0),cc.resources.preload("An/"+n.d.gand+"/"+n.d.luggage+"/"+n.d.luggage+"_back",cc.AnimationClip),cc.resources.load("Info/Info_PANEL__content",cc.SpriteFrame,function(t,n){e.Page.getComponent(cc.Sprite).spriteFrame=n}),cc.find("Canvas/Options").active=!1,cc.find("Canvas/Btn_BeginGame").active=!0,this.node.active=!1}}),cc._RF.pop()},{"../DataCollection.js":"DataCollection"}],BtnLR:[function(e,t){"use strict";cc._RF.push(t,"5756aekDr5OfLRZBeSLNUdx","BtnLR");var n=e("../DataCollection.js");cc.Class({extends:cc.Component,properties:function(){return{direction:{default:-1,type:cc.Integer},role:{default:null,type:cc.Node}}},onLoad:function(){cc.resources.preloadDir("RL",cc.SpriteFrame),this.node.on("touchstart",this.moveRole,this)},moveRole:function(){var e=this;if(0!=this.getComponent(cc.Button).interactable){var t=e.role.trackX;e.role.trackX+=e.direction,e.role.trackX<0&&(e.role.trackX=0),e.role.trackX>3&&(e.role.trackX=3),t<e.role.trackX?e.Anim(n.d.gander,n.d.luggage,"right"):e.Anim(n.d.gander,n.d.luggage,"left"),cc.tween(e.role).to(.2,{x:n.d.trackX[e.role.trackX]}).call(function(){e.Anim(n.d.gander,n.d.luggage,"back")}).start()}},Anim:function(e,t,n){var o=this.role.getComponent(cc.Animation);cc.resources.load("An/"+e+"/"+t+"/"+t+"_"+n,cc.AnimationClip,function(e,c){o.addClip(c),o.play(t+"_"+n)})}}),cc._RF.pop()},{"../DataCollection.js":"DataCollection"}],BtnSetting:[function(e,t){"use strict";cc._RF.push(t,"f36852mSk9L2IQng2LhBqeo","BtnSetting");var n=e("../MyTimer.js");cc.Class({extends:cc.Component,properties:function(){return{settingPanel:{default:null,type:cc.Node}}},onLoad:function(){this.node.on("touchstart",this.openPanel,this)},openPanel:function(){if(0!=this.node.getComponent(cc.Button).interactable){cc.director.pause(),n.MyTimer.pauseAll(),this.settingPanel.active=!0,this.node.getComponent(cc.Button).interactable=!1,cc.find("Canvas/UI/Left").getComponent(cc.Button).interactable=!1,cc.find("Canvas/UI/Right").getComponent(cc.Button).interactable=!1;var e=cc.find("Canvas/Role").getComponent("Role").au;cc.audioEngine.pause(e)}}}),cc._RF.pop()},{"../MyTimer.js":"MyTimer"}],BtnStartGame:[function(e,t){"use strict";cc._RF.push(t,"1be00ADF5NHpak/xRJEy7dU","BtnStartGame"),cc.Class({extends:cc.Component,onLoad:function(){cc.game.setFrameRate(30),cc.resources.preloadDir("An",cc.AnimationClip),cc.resources.preloadDir("AU",cc.AudioClip),cc.resources.preloadDir("EL",cc.SpriteFrame),cc.resources.preloadDir("Info",cc.SpriteFrame),this.node.on("touchstart",this.Start,this)},Start:function(){cc.director.loadScene("Ready")}}),cc._RF.pop()},{}],DataCollection:[function(e,t,n){"use strict";cc._RF.push(t,"2614eX/Z15DrbR3NVsP5ak6","DataCollection"),n.__esModule=!0,n.d=void 0;var o={trackX:[-230,-77,77,230],rTrack:function(){return Math.floor(Math.random()*(Math.floor(3)-Math.ceil(0)+1))+Math.ceil(0)},hasBarrier:[0,0,0,0,0],hasGoods:-1,gameTime:0,speedChange:function(){if(this.gameTime<10)return{interval:1500,down:5};var e=1050-50*Math.floor(this.gameTime/10),t=5-.3*Math.floor(this.gameTime/10);return e<50&&(e=50),t<.5&&(t=.5),{interval:e,down:t}},gander:0,luggage:-1,score:0};n.d=o,cc._RF.pop()},{}],Female:[function(e,t){"use strict";cc._RF.push(t,"b330dNUA/xPfKs0wLhdWTPX","Female");var n=e("../../DataCollection.js");cc.Class({extends:cc.Component,properties:function(){return{status:{default:0,type:cc.Integer}}},onLoad:function(){this.node.on("touchstart",this.Selected,this),this.male=cc.find("Canvas/Options/Male")},Selected:function(){var e=this;1===this.male.getComponent("Male").status&&(this.male.getComponent("Male").status=0,cc.resources.load("Info/options/male_un",cc.SpriteFrame,function(t,n){e.male.getComponent(cc.Button).normalSprite=n})),n.d.gander=1,this.status=1,cc.resources.load("Info/options/female_in",cc.SpriteFrame,function(t,n){e.node.getComponent(cc.Button).normalSprite=n})}}),cc._RF.pop()},{"../../DataCollection.js":"DataCollection"}],GameScene:[function(e,t){"use strict";cc._RF.push(t,"41ad92UzKNDRqx3MwxFgijv","GameScene");var n=e("../DataCollection.js"),o=e("../MyTimer.js");cc.Class({extends:cc.Component,properties:function(){return{barrierPrefab:{default:null,type:cc.Prefab},barrierInitCount:20,goodsPrefab:{default:null,type:cc.Prefab},goddsInitCount:20,role:{default:null,type:cc.Node},scoreDisplay:{default:null,type:cc.Label}}},onLoad:function(){this.role.trackX=1,this.Anim(n.d.gander,n.d.luggage),n.d.score=0,n.d.gameTime=0,this.barrierPool=new cc.NodePool;for(var e=0;e<this.barrierInitCount;e++){var t=cc.instantiate(this.barrierPrefab);this.barrierPool.put(t)}this.goodsPool=new cc.NodePool;for(var c=0;c<this.goddsInitCount;c++){var a=cc.instantiate(this.goodsPrefab);this.goodsPool.put(a)}var i=this;o.MyTimer.setInterval(function(){n.d.gameTime++},1e3,"gt"),function e(){i.createBarrier();var t=Math.random();t<.4&&n.d.gameTime>10&&(i.createGoods(1),t<.1&&i.createGoods(2)),o.MyTimer.setTimeout(e,n.d.speedChange().interval)}()},createBarrier:function(){var e=null;(e=this.barrierPool.size()>0?this.barrierPool.get():cc.instantiate(this.barrierPrefab)).parent=cc.find("Canvas/BarrierLayout"),e.getComponent("Barrier").init()},createGoods:function(e){var t=null;(t=this.goodsPool.size()>0?this.goodsPool.get():cc.instantiate(this.goodsPrefab)).getComponent("Goods").init(e),t.parent=cc.find("Canvas/GoodsLayout")},gainScore:function(){this.scoreDisplay.string=++n.d.score},Anim:function(e,t){var n=this.role.getComponent(cc.Animation);cc.resources.load("An/"+e+"/"+t+"/"+t+"_back",cc.AnimationClip,function(e,o){n.addClip(o),n.play(t+"_back")})}}),cc._RF.pop()},{"../DataCollection.js":"DataCollection","../MyTimer.js":"MyTimer"}],Goods:[function(e,t){"use strict";cc._RF.push(t,"9d91eUIN/9OaKxrd362psXD","Goods");var n=e("../DataCollection.js");e("../MyTimer.js"),cc.Class({extends:cc.Component,properties:function(){return{trackX:{default:0,type:cc.Integer},initY:558,endY:{default:-558,type:cc.Float}}},onLoad:function(){this.gameScene=cc.find("Canvas").getComponent("GameScene")},update:function(){this.node.y<=-235&&this.node.y>=-400?this.judgeCollision():this.node.y===this.endY&&this.gameScene.goodsPool.put(this.node)},judgeCollision:function(){var e=this;n.d.trackX[this.gameScene.role.trackX]===this.node.x&&cc.resources.load("AU/AU__collection",cc.AudioClip,function(t,n){cc.audioEngine.playEffect(n,!1),e.gameScene.gainScore(),e.gameScene.goodsPool.put(e.node)})},init:function(e){var t=this,o=n.d.rTrack(),c=Math.random();if(o===n.d.hasBarrier[4]){var a=[0,1,2,3];a.forEach(function(e,t,n){e===o&&n.splice(t,1)}),o=a[Math.floor(Math.random()*(Math.floor(2)-Math.ceil(0)+1))+Math.ceil(0)],n.d.hasGoods=o,2===e&&(a.forEach(function(e,t,o){e===n.d.hasGoods&&o.splice(t,1)}),o=a[Math.floor(Math.random()*(Math.floor(1)-Math.ceil(0)+1))+Math.ceil(0)],n.d.hasGoods=-1)}this.node.x=n.d.trackX[o],this.node.y=this.initY,c<.3?cc.resources.load("EL/EL__goods_clothes",cc.SpriteFrame,function(e,n){t.node.getComponent(cc.Sprite).spriteFrame=n}):c<.6?cc.resources.load("EL/EL__goods_shoes",cc.SpriteFrame,function(e,n){t.node.getComponent(cc.Sprite).spriteFrame=n}):cc.resources.load("EL/EL__goods_towel",cc.SpriteFrame,function(e,n){t.node.getComponent(cc.Sprite).spriteFrame=n}),cc.tween(this.node).to(n.d.speedChange().down,{y:this.endY}).start()}}),cc._RF.pop()},{"../DataCollection.js":"DataCollection","../MyTimer.js":"MyTimer"}],Luggage:[function(e,t){"use strict";cc._RF.push(t,"5c125TdHs5OJ7AyZ8Vn+dE2","Luggage");var n=e("../../DataCollection.js");cc.Class({extends:cc.Component,properties:function(){return{status:{default:0,type:cc.Integer},lug:{default:0,type:cc.Integer}}},onLoad:function(){this.node.on("touchstart",this.Selected,this)},Selected:function(){var e=this;if(-1!==n.d.luggage&&n.d.luggage!==this.lug){var t=cc.find("Canvas/Options/"+n.d.luggage);t.getComponent("Luggage").status=0,cc.resources.load("Info/options/"+n.d.luggage+"_un",cc.SpriteFrame,function(e,n){t.getComponent(cc.Button).normalSprite=n})}n.d.luggage=this.lug,this.status=1,cc.resources.load("Info/options/"+this.lug+"_in",cc.SpriteFrame,function(t,n){e.node.getComponent(cc.Button).normalSprite=n})}}),cc._RF.pop()},{"../../DataCollection.js":"DataCollection"}],Male:[function(e,t){"use strict";cc._RF.push(t,"feb0bCzeN9O/bhlUTC38QuG","Male");var n=e("../../DataCollection.js");cc.Class({extends:cc.Component,properties:function(){return{status:{default:0,type:cc.Integer}}},onLoad:function(){this.node.on("touchstart",this.Selected,this),this.female=cc.find("Canvas/Options/Female")},Selected:function(){var e=this;1===this.female.getComponent("Female").status&&(this.female.getComponent("Female").status=0,cc.resources.load("Info/options/female_un",cc.SpriteFrame,function(t,n){e.female.getComponent(cc.Button).normalSprite=n})),n.d.gander=0,this.status=1,cc.resources.load("Info/options/male_in",cc.SpriteFrame,function(t,n){e.node.getComponent(cc.Button).normalSprite=n})}}),cc._RF.pop()},{"../../DataCollection.js":"DataCollection"}],MyTimer:[function(e,t,n){"use strict";cc._RF.push(t,"a380bhzoVlPwYDhHBpQ2sr+","MyTimer"),n.__esModule=!0,n.MyTimer=n.Timer=void 0;var o=new(function(){function e(){var e=this;this.auto=function(t,n){n.tick(t-n.stamp),n.stamp=t,n.id=requestAnimationFrame(function(t){return e.auto(t,n)})}}var t=e.prototype;return t.enable=function(e){var t=this;e.paused=!1,e.stamp=0,e.id=requestAnimationFrame(function(n){return t.auto(n,e)})},t.disable=function(e){cancelAnimationFrame(e.id)},e}()),c=function(){function e(){this.paused=!0,this.queue=new Map,o.enable(this)}var t=e.prototype;return t.setTimeout=function(e,t,n){return void 0===n&&(n=Symbol("timeoutID")),this.queue.set(n,{fn:e,type:0,paused:0,elapsed:0,delay:t}),n},t.clearTimeout=function(){return this.delete.apply(this,arguments)},t.setInterval=function(e,t,n){return void 0===n&&(n=Symbol("intervalID")),this.queue.set(n,{fn:e,type:1,paused:0,elapsed:0,delay:t}),n},t.clearInterval=function(){return this.delete.apply(this,arguments)},t.set=function(e,t){void 0===t&&(t={});var n=this.queue.get(e)||{};for(var o in t)n[o]=t[o];return!0},t.delete=function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.every(function(t){return e.queue.delete(t)})},t.pause=function(e){if(e){var t=this.queue.get(e);t&&(t.paused=1)}else this.pauseAll();return!0},t.resume=function(e){return this.play(e)},t.play=function(e){if(e){var t=this.queue.get(e);t&&(t.paused=0)}else this.playAll();return!0},t.clean=function(){return this.queue=new Map,!0},t.pauseAll=function(){return this.queue.forEach(function(e){return e.paused=1}),!0},t.playAll=function(){return this.queue.forEach(function(e){return e.paused=0}),!0},t.reset=function(e){if(e){var t=this.queue.get(e);t&&(t.elapsed=0)}else this.resetAll()},t.resetAll=function(){this.queue.forEach(function(e){return e.elapsed=0})},t.tick=function(e){this.paused||this.updateQueue(e)},t.updateQueue=function(e){var t=this;this.queue.forEach(function(n,o){1!==n.paused&&(n.elapsed+=e,n.elapsed>=n.delay&&(n.fn(),0===n.type?t.delete(o):n.elapsed=0))})},e}();n.Timer=c;var a=new c;n.MyTimer=a,cc._RF.pop()},{}],Ready:[function(e,t){"use strict";cc._RF.push(t,"99e77fTqnhEw4KLLCbzoNxM","Ready"),cc.Class({extends:cc.Component,properties:function(){return{Page:{default:null,type:cc.Node}}},onLoad:function(){var e=this;cc.resources.preloadDir("Info",cc.SpriteFrame),cc.resources.preloadDir("RL",cc.SpriteFrame),cc.resources.preloadDir("EL",cc.SpriteFrame),cc.resources.preloadDir("An",cc.AnimationClip),cc.resources.preloadDir("AU",cc.AudioClip),cc.resources.load("Info/Info_PANEL__select",cc.SpriteFrame,function(t,n){e.Page.getComponent(cc.Sprite).spriteFrame=n}),cc.find("Canvas/Btn_BeginGame").active=!1}}),cc._RF.pop()},{}],Result:[function(e,t){"use strict";cc._RF.push(t,"54467m+hZRPp47tNYOKkegc","Result");var n=e("./DataCollection.js");cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.find("Canvas/ScoreResult").getComponent(cc.Label).string=""+n.d.score}}),cc._RF.pop()},{"./DataCollection.js":"DataCollection"}],RetryGame:[function(e,t){"use strict";cc._RF.push(t,"41c9bI1oLNOdqRarIQ0Y66Q","RetryGame");var n=e("../../MyTimer.js");cc.Class({extends:cc.Component,onLoad:function(){this.node.on("touchstart",this.retryGame,this)},retryGame:function(){n.MyTimer.clean(),cc.director.loadScene("Gaming"),cc.director.resume()}}),cc._RF.pop()},{"../../MyTimer.js":"MyTimer"}],ReturnGame:[function(e,t){"use strict";cc._RF.push(t,"702704GYX1P6pC+h2mECNU3","ReturnGame");var n=e("../../MyTimer.js");cc.Class({extends:cc.Component,onLoad:function(){this.node.on("touchstart",this.returnGame,this)},returnGame:function(){cc.director.resume(),n.MyTimer.playAll(),cc.find("Canvas/UI/Setting").getComponent(cc.Button).interactable=!0,cc.find("Canvas/UI/Left").getComponent(cc.Button).interactable=!0,cc.find("Canvas/UI/Right").getComponent(cc.Button).interactable=!0,this.node.parent.active=!1;var e=cc.find("Canvas/Role").getComponent("Role").au;cc.audioEngine.resume(e)}}),cc._RF.pop()},{"../../MyTimer.js":"MyTimer"}],Role:[function(e,t){"use strict";cc._RF.push(t,"f4ae3gF849OtLhpo7T7ivfw","Role");var n=e("../DataCollection.js");cc.Class({extends:cc.Component,properties:function(){return{trackX:{default:1,type:cc.Integer},defaultY:{default:-360,type:cc.Float}}},onLoad:function(){var e=this;this.node.x=n.d.trackX[this.trackX],cc.resources.load("AU/AU__footsteps",cc.AudioClip,function(t,n){e.au=cc.audioEngine.play(n,!0,1)})},onDestroy:function(){cc.audioEngine.uncacheAll()}}),cc._RF.pop()},{"../DataCollection.js":"DataCollection"}],SettingPanel:[function(e,t){"use strict";cc._RF.push(t,"caa0cEzh5tOHIUqxhWs2JC3","SettingPanel"),cc.Class({extends:cc.Component,onLoad:function(){this.node.active=!1}}),cc._RF.pop()},{}]},{},["DataCollection","Barrier","BtnLR","BtnSetting","GameScene","Goods","Role","BackMenu","RetryGame","ReturnGame","SettingPanel","BtnStartGame","MyTimer","BtnBeginGame","BtnConfirm","Female","Luggage","Male","Ready","Result"]);